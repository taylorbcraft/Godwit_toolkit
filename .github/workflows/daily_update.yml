name: Daily GPS Update

on:
  # schedule below sets it to run every 3 hours at minute 0 UTC
  schedule:
    - cron: '0 */3 * * *'
  # uncomment for testing whenever you push:
  # push:

jobs:
  update-gps-data:
    runs-on: ubuntu-latest
    steps:
      # step 1: check out your repository
      - name: Check out repo
        uses: actions/checkout@v3

      # step 2: set up r
      - name: Set up R
        uses: r-lib/actions/setup-r@v2

      # step 3: install required packages
      - name: Install R packages
        run: Rscript -e 'install.packages(c("cronR","move","dplyr","purrr","data.table","zoo","lubridate"), repos="https://cloud.r-project.org")'

      # step 4: run your r script
      - name: Run location_data.R
        run: Rscript location_data.R
